/* terminal dungeon: text dominates, mouse-only Q/A, palette rotates on every click */
:root{
  --black:#050505; --green:#00a651; --white:#f3f6f2;
  --bg:var(--black); --fg:var(--green); --btnbg:var(--white); --btnfg:var(--black);
  --shadow: 0 0 10px rgba(0,0,0,.35);
  --border: rgba(243,246,242,.18);
  --panel: rgba(0,0,0,.55); --panel2: rgba(0,0,0,.30);
  --mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"DejaVu Sans Mono",monospace;
}
html,body{height:100%;margin:0}
body{background:var(--bg);color:var(--fg);font-family:var(--mono);overflow:hidden;transition:background-color 160ms linear,color 160ms linear;text-shadow:var(--shadow)}
#screen{position:fixed;inset:0;display:grid;place-items:center;padding:18px}
#term{position:relative;width:min(1120px,100%);height:min(88vh,900px);display:flex;flex-direction:column;border:1px solid var(--border);border-radius:6px;background:rgba(0,0,0,.68);box-shadow:none;overflow:hidden}
#hud{display:flex;justify-content:space-between;align-items:baseline;gap:12px;padding:8px 10px;border-bottom:1px solid var(--border)}
#brand{font-weight:900;letter-spacing:.24em;text-transform:uppercase;font-size:14px}
#state{font-size:11px;opacity:.78;line-height:1.2;text-align:right;max-width:65%;color:color-mix(in oklab,var(--fg) 75%, var(--white))}
#buffer{flex:1;overflow:auto;padding:12px 12px 16px 12px;background:transparent;font-size:14px}
.line{margin:0 0 8px 0;line-height:1.5;color:color-mix(in oklab,var(--white) 86%, transparent)}
body[data-ink="dark"] .line{color:rgba(5,5,5,.92)}
.line .spk{font-weight:900;color:var(--fg)}
.line.stage{opacity:.88;border-left:3px solid var(--fg);padding-left:10px}
.line.hackled{border-left:3px dashed var(--fg);padding-left:10px}
em{font-style:italic;color:color-mix(in oklab,var(--fg) 70%, var(--white))}
#oracle{padding:10px 12px 12px 12px;border-top:1px solid var(--border);background:transparent}
#q{font-size:12px;opacity:.9;margin-bottom:8px;line-height:1.35}
#choices{display:grid;grid-template-columns:1fr;gap:6px}
.choice{cursor:pointer;user-select:none;padding:8px 10px;border-radius:4px;border:1px solid var(--fg);background:transparent;color:var(--fg);font-weight:700;letter-spacing:.08em;text-transform:uppercase;transition:transform 90ms ease,filter 120ms ease,background-color 160ms linear,color 160ms linear,border-color 160ms linear;text-shadow:var(--shadow);font-size:11px}
.choice::before{content:"> ";opacity:.7}
.choice:hover{filter:brightness(1.08)} .choice:active{transform:translateY(1px)}
#crt{position:fixed;inset:0;pointer-events:none;opacity:.55;mix-blend-mode:screen;background:radial-gradient(1200px 700px at 50% 12%,rgba(0,255,128,.22),transparent 70%),radial-gradient(900px 520px at 18% 88%,rgba(243,246,242,.10),transparent 72%),linear-gradient(to bottom,rgba(0,0,0,0) 0%,rgba(0,0,0,.24) 62%,rgba(0,0,0,.46) 100%)}
#scan{position:fixed;inset:0;pointer-events:none;opacity:.22;mix-blend-mode:multiply;background:repeating-linear-gradient(to bottom,rgba(0,0,0,0) 0px,rgba(0,0,0,0) 2px,rgba(0,0,0,.22) 3px)}
body.morph #term{transform:scale(0.997);filter:blur(0.35px) contrast(1.05)}
@media (max-width:720px){
  #choices{grid-template-columns:1fr}
  #state{max-width:55%}
}
